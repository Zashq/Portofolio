{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withKeys as _withKeys, openBlock as _openBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, renderList as _renderList } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text-subtitle-1 text-grey\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_select = _resolveComponent(\"v-select\");\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_ProductCard = _resolveComponent(\"ProductCard\");\n  const _component_v_pagination = _resolveComponent(\"v-pagination\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createCommentVNode(\" Search Header \"), _createVNode(_component_v_row, {\n      class: \"mb-4\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\"\n      }, {\n        default: _withCtx(() => [_cache[3] || (_cache[3] = _createElementVNode(\"h1\", {\n          class: \"text-h3 font-weight-bold mb-2\"\n        }, \"Search Results\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_1, _toDisplayString($setup.results.length) + \" results for \\\"\" + _toDisplayString($setup.searchQuery) + \"\\\" \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" Search Bar \"), _createVNode(_component_v_row, {\n      class: \"mb-4\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"8\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, {\n          modelValue: $setup.searchQuery,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n          label: \"Search products...\",\n          \"prepend-inner-icon\": \"mdi-magnify\",\n          outlined: \"\",\n          dense: \"\",\n          clearable: \"\",\n          onKeyup: _withKeys($setup.performSearch, [\"enter\"])\n        }, null, 8 /* PROPS */, [\"modelValue\", \"onKeyup\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_select, {\n          modelValue: $setup.sortBy,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.sortBy = $event),\n          items: $setup.sortOptions,\n          label: \"Sort by\",\n          outlined: \"\",\n          dense: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"items\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" Loading State \"), $setup.loading ? (_openBlock(), _createBlock(_component_v_row, {\n      key: 0,\n      class: \"my-12\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        class: \"text-center\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_progress_circular, {\n          indeterminate: \"\",\n          color: \"primary\",\n          size: \"64\"\n        }), _cache[4] || (_cache[4] = _createElementVNode(\"p\", {\n          class: \"mt-4\"\n        }, \"Searching...\", -1 /* CACHED */))]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })) : $setup.results.length === 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createCommentVNode(\" No Results \"), _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        class: \"text-center py-12\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          size: \"120\",\n          color: \"grey-lighten-2\"\n        }, {\n          default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\"mdi-magnify\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }), _cache[7] || (_cache[7] = _createElementVNode(\"h2\", {\n          class: \"text-h4 mt-4 mb-2\"\n        }, \"No results found\", -1 /* CACHED */)), _cache[8] || (_cache[8] = _createElementVNode(\"p\", {\n          class: \"text-grey mb-6\"\n        }, \"Try different keywords or browse our categories\", -1 /* CACHED */)), _createVNode(_component_v_btn, {\n          color: \"primary\",\n          to: \"/categories\"\n        }, {\n          default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\" Browse Categories \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 2\n    }, [_createCommentVNode(\" Search Results \"), _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.paginatedResults, product => {\n        return _openBlock(), _createBlock(_component_v_col, {\n          key: product.id,\n          cols: \"12\",\n          sm: \"6\",\n          md: \"4\",\n          lg: \"3\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_ProductCard, {\n            product: product\n          }, null, 8 /* PROPS */, [\"product\"])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */);\n      }), 128 /* KEYED_FRAGMENT */))]),\n      _: 1 /* STABLE */\n    })], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Pagination \"), $setup.totalPages > 1 ? (_openBlock(), _createBlock(_component_v_row, {\n      key: 3,\n      class: \"mt-4\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        class: \"d-flex justify-center\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_pagination, {\n          modelValue: $setup.currentPage,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.currentPage = $event),\n          length: $setup.totalPages,\n          \"total-visible\": 7\n        }, null, 8 /* PROPS */, [\"modelValue\", \"length\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_v_container","_createCommentVNode","_createVNode","_component_v_row","_component_v_col","cols","_createElementVNode","_hoisted_1","_toDisplayString","$setup","results","length","searchQuery","md","_component_v_text_field","$event","label","outlined","dense","clearable","onKeyup","_withKeys","performSearch","_component_v_select","sortBy","items","sortOptions","loading","_component_v_progress_circular","indeterminate","color","size","_createElementBlock","_Fragment","key","_component_v_icon","_cache","_component_v_btn","to","_renderList","paginatedResults","product","id","sm","lg","_component_ProductCard","totalPages","_component_v_pagination","currentPage"],"sources":["C:\\Users\\veszi\\Desktop\\Portofolio\\vue-pwa-webshop\\src\\views\\Search.vue"],"sourcesContent":["<template>\n  <v-container>\n    <!-- Search Header -->\n    <v-row class=\"mb-4\">\n      <v-col cols=\"12\">\n        <h1 class=\"text-h3 font-weight-bold mb-2\">Search Results</h1>\n        <p class=\"text-subtitle-1 text-grey\">\n          {{ results.length }} results for \"{{ searchQuery }}\"\n        </p>\n      </v-col>\n    </v-row>\n\n    <!-- Search Bar -->\n    <v-row class=\"mb-4\">\n      <v-col cols=\"12\" md=\"8\">\n        <v-text-field\n          v-model=\"searchQuery\"\n          label=\"Search products...\"\n          prepend-inner-icon=\"mdi-magnify\"\n          outlined\n          dense\n          clearable\n          @keyup.enter=\"performSearch\"\n        ></v-text-field>\n      </v-col>\n      <v-col cols=\"12\" md=\"4\">\n        <v-select\n          v-model=\"sortBy\"\n          :items=\"sortOptions\"\n          label=\"Sort by\"\n          outlined\n          dense\n        ></v-select>\n      </v-col>\n    </v-row>\n\n    <!-- Loading State -->\n    <v-row v-if=\"loading\" class=\"my-12\">\n      <v-col cols=\"12\" class=\"text-center\">\n        <v-progress-circular\n          indeterminate\n          color=\"primary\"\n          size=\"64\"\n        ></v-progress-circular>\n        <p class=\"mt-4\">Searching...</p>\n      </v-col>\n    </v-row>\n\n    <!-- No Results -->\n    <v-row v-else-if=\"results.length === 0\">\n      <v-col cols=\"12\" class=\"text-center py-12\">\n        <v-icon size=\"120\" color=\"grey-lighten-2\">mdi-magnify</v-icon>\n        <h2 class=\"text-h4 mt-4 mb-2\">No results found</h2>\n        <p class=\"text-grey mb-6\">Try different keywords or browse our categories</p>\n        <v-btn color=\"primary\" to=\"/categories\">\n          Browse Categories\n        </v-btn>\n      </v-col>\n    </v-row>\n\n    <!-- Search Results -->\n    <v-row v-else>\n      <v-col\n        v-for=\"product in paginatedResults\"\n        :key=\"product.id\"\n        cols=\"12\"\n        sm=\"6\"\n        md=\"4\"\n        lg=\"3\"\n      >\n        <ProductCard :product=\"product\" />\n      </v-col>\n    </v-row>\n\n    <!-- Pagination -->\n    <v-row v-if=\"totalPages > 1\" class=\"mt-4\">\n      <v-col cols=\"12\" class=\"d-flex justify-center\">\n        <v-pagination\n          v-model=\"currentPage\"\n          :length=\"totalPages\"\n          :total-visible=\"7\"\n        ></v-pagination>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useProductsStore } from '@/store/products'\nimport ProductCard from '@/components/ProductCard.vue'\n\nexport default {\n  name: 'SearchView',\n  components: {\n    ProductCard\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const productsStore = useProductsStore()\n    \n    const searchQuery = ref('')\n    const results = ref([])\n    const loading = ref(false)\n    const sortBy = ref('relevance')\n    const currentPage = ref(1)\n    const itemsPerPage = 12\n    \n    const sortOptions = [\n      { title: 'Relevance', value: 'relevance' },\n      { title: 'Price: Low to High', value: 'price-asc' },\n      { title: 'Price: High to Low', value: 'price-desc' },\n      { title: 'Name: A to Z', value: 'name-asc' }\n    ]\n    \n    const sortedResults = computed(() => {\n      let sorted = [...results.value]\n      \n      switch (sortBy.value) {\n        case 'price-asc':\n          sorted.sort((a, b) => a.price - b.price)\n          break\n        case 'price-desc':\n          sorted.sort((a, b) => b.price - a.price)\n          break\n        case 'name-asc':\n          sorted.sort((a, b) => a.title.localeCompare(b.title))\n          break\n      }\n      \n      return sorted\n    })\n    \n    const totalPages = computed(() => \n      Math.ceil(sortedResults.value.length / itemsPerPage)\n    )\n    \n    const paginatedResults = computed(() => {\n      const start = (currentPage.value - 1) * itemsPerPage\n      const end = start + itemsPerPage\n      return sortedResults.value.slice(start, end)\n    })\n    \n    const performSearch = async () => {\n      if (!searchQuery.value) return\n      \n      loading.value = true\n      try {\n        await productsStore.loadProducts()\n        results.value = productsStore.searchProducts(searchQuery.value)\n        currentPage.value = 1\n        \n        // Update URL\n        router.push({ query: { q: searchQuery.value } })\n      } catch (error) {\n        console.error('Search error:', error)\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    watch(() => route.query.q, (newQuery) => {\n      if (newQuery) {\n        searchQuery.value = newQuery\n        performSearch()\n      }\n    })\n    \n    onMounted(() => {\n      const query = route.query.q\n      if (query) {\n        searchQuery.value = query\n        performSearch()\n      }\n    })\n    \n    return {\n      searchQuery,\n      results,\n      loading,\n      sortBy,\n      sortOptions,\n      currentPage,\n      totalPages,\n      paginatedResults,\n      performSearch\n    }\n  }\n}\n</script>\n"],"mappings":";;EAMWA,KAAK,EAAC;AAA2B;;;;;;;;;;;;uBAL1CC,YAAA,CAmFcC,sBAAA;sBAlFZ,MAAsB,CAAtBC,mBAAA,mBAAsB,EACtBC,YAAA,CAOQC,gBAAA;MAPDL,KAAK,EAAC;IAAM;wBACjB,MAKQ,CALRI,YAAA,CAKQE,gBAAA;QALDC,IAAI,EAAC;MAAI;0BACd,MAA6D,C,0BAA7DC,mBAAA,CAA6D;UAAzDR,KAAK,EAAC;QAA+B,GAAC,gBAAc,qBACxDQ,mBAAA,CAEI,KAFJC,UAEI,EAAAC,gBAAA,CADCC,MAAA,CAAAC,OAAO,CAACC,MAAM,IAAG,iBAAc,GAAAH,gBAAA,CAAGC,MAAA,CAAAG,WAAW,IAAG,KACrD,gB;;;;QAIJX,mBAAA,gBAAmB,EACnBC,YAAA,CAqBQC,gBAAA;MArBDL,KAAK,EAAC;IAAM;wBACjB,MAUQ,CAVRI,YAAA,CAUQE,gBAAA;QAVDC,IAAI,EAAC,IAAI;QAACQ,EAAE,EAAC;;0BAClB,MAQgB,CARhBX,YAAA,CAQgBY,uBAAA;sBAPLL,MAAA,CAAAG,WAAW;qEAAXH,MAAA,CAAAG,WAAW,GAAAG,MAAA;UACpBC,KAAK,EAAC,oBAAoB;UAC1B,oBAAkB,EAAC,aAAa;UAChCC,QAAQ,EAAR,EAAQ;UACRC,KAAK,EAAL,EAAK;UACLC,SAAS,EAAT,EAAS;UACRC,OAAK,EAAAC,SAAA,CAAQZ,MAAA,CAAAa,aAAa;;;UAG/BpB,YAAA,CAQQE,gBAAA;QARDC,IAAI,EAAC,IAAI;QAACQ,EAAE,EAAC;;0BAClB,MAMY,CANZX,YAAA,CAMYqB,mBAAA;sBALDd,MAAA,CAAAe,MAAM;qEAANf,MAAA,CAAAe,MAAM,GAAAT,MAAA;UACdU,KAAK,EAAEhB,MAAA,CAAAiB,WAAW;UACnBV,KAAK,EAAC,SAAS;UACfC,QAAQ,EAAR,EAAQ;UACRC,KAAK,EAAL;;;;;QAKNjB,mBAAA,mBAAsB,EACTQ,MAAA,CAAAkB,OAAO,I,cAApB5B,YAAA,CASQI,gBAAA;;MATcL,KAAK,EAAC;;wBAC1B,MAOQ,CAPRI,YAAA,CAOQE,gBAAA;QAPDC,IAAI,EAAC,IAAI;QAACP,KAAK,EAAC;;0BACrB,MAIuB,CAJvBI,YAAA,CAIuB0B,8BAAA;UAHrBC,aAAa,EAAb,EAAa;UACbC,KAAK,EAAC,SAAS;UACfC,IAAI,EAAC;sCAEPzB,mBAAA,CAAgC;UAA7BR,KAAK,EAAC;QAAM,GAAC,cAAY,oB;;;;UAKdW,MAAA,CAAAC,OAAO,CAACC,MAAM,U,cAAhCqB,mBAAA,CASQC,SAAA;MAAAC,GAAA;IAAA,IAVRjC,mBAAA,gBAAmB,EACnBC,YAAA,CASQC,gBAAA;wBARN,MAOQ,CAPRD,YAAA,CAOQE,gBAAA;QAPDC,IAAI,EAAC,IAAI;QAACP,KAAK,EAAC;;0BACrB,MAA8D,CAA9DI,YAAA,CAA8DiC,iBAAA;UAAtDJ,IAAI,EAAC,KAAK;UAACD,KAAK,EAAC;;4BAAiB,MAAW,KAAAM,MAAA,QAAAA,MAAA,O,iBAAX,aAAW,mB;;sCACrD9B,mBAAA,CAAmD;UAA/CR,KAAK,EAAC;QAAmB,GAAC,kBAAgB,qB,0BAC9CQ,mBAAA,CAA6E;UAA1ER,KAAK,EAAC;QAAgB,GAAC,iDAA+C,qBACzEI,YAAA,CAEQmC,gBAAA;UAFDP,KAAK,EAAC,SAAS;UAACQ,EAAE,EAAC;;4BAAc,MAExC,KAAAF,MAAA,QAAAA,MAAA,O,iBAFwC,qBAExC,mB;;;;;;0EAKJJ,mBAAA,CAWQC,SAAA;MAAAC,GAAA;IAAA,IAZRjC,mBAAA,oBAAuB,EACvBC,YAAA,CAWQC,gBAAA;wBATJ,MAAmC,E,kBADrC6B,mBAAA,CASQC,SAAA,QAAAM,WAAA,CARY9B,MAAA,CAAA+B,gBAAgB,EAA3BC,OAAO;6BADhB1C,YAAA,CASQK,gBAAA;UAPL8B,GAAG,EAAEO,OAAO,CAACC,EAAE;UAChBrC,IAAI,EAAC,IAAI;UACTsC,EAAE,EAAC,GAAG;UACN9B,EAAE,EAAC,GAAG;UACN+B,EAAE,EAAC;;4BAEH,MAAkC,CAAlC1C,YAAA,CAAkC2C,sBAAA;YAApBJ,OAAO,EAAEA;UAAO,qC;;;;;0DAIlCxC,mBAAA,gBAAmB,EACNQ,MAAA,CAAAqC,UAAU,Q,cAAvB/C,YAAA,CAQQI,gBAAA;;MARqBL,KAAK,EAAC;;wBACjC,MAMQ,CANRI,YAAA,CAMQE,gBAAA;QANDC,IAAI,EAAC,IAAI;QAACP,KAAK,EAAC;;0BACrB,MAIgB,CAJhBI,YAAA,CAIgB6C,uBAAA;sBAHLtC,MAAA,CAAAuC,WAAW;qEAAXvC,MAAA,CAAAuC,WAAW,GAAAjC,MAAA;UACnBJ,MAAM,EAAEF,MAAA,CAAAqC,UAAU;UAClB,eAAa,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}