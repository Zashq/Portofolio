{"ast":null,"code":"import { ref, computed, onMounted, watch } from 'vue';\nimport { useProductsStore } from '@/store/products';\nimport ProductCard from '@/components/ProductCard.vue';\nexport default {\n  name: 'ProductsView',\n  components: {\n    ProductCard\n  },\n  setup() {\n    const productsStore = useProductsStore();\n    const selectedCategory = ref(null);\n    const sortBy = ref('default');\n    const minPrice = ref('');\n    const maxPrice = ref('');\n    const currentPage = ref(1);\n    const itemsPerPage = 12;\n    const sortOptions = [{\n      title: 'Default',\n      value: 'default'\n    }, {\n      title: 'Price: Low to High',\n      value: 'price-asc'\n    }, {\n      title: 'Price: High to Low',\n      value: 'price-desc'\n    }, {\n      title: 'Name: A to Z',\n      value: 'name-asc'\n    }, {\n      title: 'Rating: High to Low',\n      value: 'rating-desc'\n    }];\n    const categoryOptions = computed(() => [{\n      title: 'All Categories',\n      value: null\n    }, ...productsStore.categories.map(cat => ({\n      title: cat.charAt(0).toUpperCase() + cat.slice(1),\n      value: cat\n    }))]);\n    const loading = computed(() => productsStore.loading);\n    const filteredProducts = computed(() => {\n      let products = [...productsStore.products];\n      if (selectedCategory.value) products = products.filter(p => p.category === selectedCategory.value);\n      if (minPrice.value) products = products.filter(p => p.price >= parseFloat(minPrice.value));\n      if (maxPrice.value) products = products.filter(p => p.price <= parseFloat(maxPrice.value));\n      switch (sortBy.value) {\n        case 'price-asc':\n          products.sort((a, b) => a.price - b.price);\n          break;\n        case 'price-desc':\n          products.sort((a, b) => b.price - a.price);\n          break;\n        case 'name-asc':\n          products.sort((a, b) => a.title.localeCompare(b.title));\n          break;\n        case 'rating-desc':\n          products.sort((a, b) => (b.rating?.rate || 0) - (a.rating?.rate || 0));\n          break;\n      }\n      return products;\n    });\n    const totalPages = computed(() => Math.ceil(filteredProducts.value.length / itemsPerPage));\n    const paginatedProducts = computed(() => {\n      const start = (currentPage.value - 1) * itemsPerPage;\n      return filteredProducts.value.slice(start, start + itemsPerPage);\n    });\n    const clearFilters = () => {\n      selectedCategory.value = null;\n      sortBy.value = 'default';\n      minPrice.value = '';\n      maxPrice.value = '';\n      currentPage.value = 1;\n    };\n    watch([selectedCategory, sortBy, minPrice, maxPrice], () => {\n      currentPage.value = 1;\n    });\n    onMounted(async () => {\n      await Promise.all([productsStore.loadProducts(), productsStore.loadCategories()]);\n    });\n    return {\n      selectedCategory,\n      sortBy,\n      minPrice,\n      maxPrice,\n      currentPage,\n      sortOptions,\n      categoryOptions,\n      loading,\n      filteredProducts,\n      paginatedProducts,\n      totalPages,\n      clearFilters\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","watch","useProductsStore","ProductCard","name","components","setup","productsStore","selectedCategory","sortBy","minPrice","maxPrice","currentPage","itemsPerPage","sortOptions","title","value","categoryOptions","categories","map","cat","charAt","toUpperCase","slice","loading","filteredProducts","products","filter","p","category","price","parseFloat","sort","a","b","localeCompare","rating","rate","totalPages","Math","ceil","length","paginatedProducts","start","clearFilters","Promise","all","loadProducts","loadCategories"],"sources":["C:\\Users\\veszi\\Desktop\\Portofolio\\vue-pwa-webshop\\src\\views\\Products.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"mb-4\">\n      <v-col cols=\"12\">\n        <h1 class=\"text-h3 font-weight-bold\">All Products</h1>\n        <p class=\"text-subtitle-1 text-grey\">Browse our complete collection</p>\n      </v-col>\n    </v-row>\n\n    <v-row class=\"mb-4\">\n      <v-col cols=\"12\" md=\"3\">\n        <v-select v-model=\"selectedCategory\" :items=\"categoryOptions\" label=\"Category\" outlined dense clearable></v-select>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <v-select v-model=\"sortBy\" :items=\"sortOptions\" label=\"Sort By\" outlined dense></v-select>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <v-text-field v-model=\"minPrice\" label=\"Min Price\" type=\"number\" outlined dense prefix=\"$\"></v-text-field>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <v-text-field v-model=\"maxPrice\" label=\"Max Price\" type=\"number\" outlined dense prefix=\"$\"></v-text-field>\n      </v-col>\n    </v-row>\n\n    <v-row v-if=\"loading\" class=\"my-8\">\n      <v-col cols=\"12\" class=\"text-center\">\n        <v-progress-circular indeterminate color=\"primary\" size=\"64\"></v-progress-circular>\n        <p class=\"mt-4\">Loading products...</p>\n      </v-col>\n    </v-row>\n\n    <v-row v-else-if=\"filteredProducts.length === 0\">\n      <v-col cols=\"12\" class=\"text-center my-8\">\n        <v-icon size=\"64\" color=\"grey\">mdi-package-variant</v-icon>\n        <h2 class=\"text-h5 mt-4\">No products found</h2>\n        <v-btn color=\"primary\" class=\"mt-4\" @click=\"clearFilters\">Clear Filters</v-btn>\n      </v-col>\n    </v-row>\n\n    <v-row v-else>\n      <v-col v-for=\"product in paginatedProducts\" :key=\"product.id\" cols=\"12\" sm=\"6\" md=\"4\" lg=\"3\">\n        <ProductCard :product=\"product\" />\n      </v-col>\n    </v-row>\n\n    <v-row v-if=\"totalPages > 1\" class=\"mt-4\">\n      <v-col cols=\"12\" class=\"d-flex justify-center\">\n        <v-pagination v-model=\"currentPage\" :length=\"totalPages\" :total-visible=\"7\"></v-pagination>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { useProductsStore } from '@/store/products'\nimport ProductCard from '@/components/ProductCard.vue'\n\nexport default {\n  name: 'ProductsView',\n  components: { ProductCard },\n  setup() {\n    const productsStore = useProductsStore()\n    const selectedCategory = ref(null)\n    const sortBy = ref('default')\n    const minPrice = ref('')\n    const maxPrice = ref('')\n    const currentPage = ref(1)\n    const itemsPerPage = 12\n    \n    const sortOptions = [\n      { title: 'Default', value: 'default' },\n      { title: 'Price: Low to High', value: 'price-asc' },\n      { title: 'Price: High to Low', value: 'price-desc' },\n      { title: 'Name: A to Z', value: 'name-asc' },\n      { title: 'Rating: High to Low', value: 'rating-desc' }\n    ]\n    \n    const categoryOptions = computed(() => [\n      { title: 'All Categories', value: null },\n      ...productsStore.categories.map(cat => ({ title: cat.charAt(0).toUpperCase() + cat.slice(1), value: cat }))\n    ])\n    \n    const loading = computed(() => productsStore.loading)\n    \n    const filteredProducts = computed(() => {\n      let products = [...productsStore.products]\n      if (selectedCategory.value) products = products.filter(p => p.category === selectedCategory.value)\n      if (minPrice.value) products = products.filter(p => p.price >= parseFloat(minPrice.value))\n      if (maxPrice.value) products = products.filter(p => p.price <= parseFloat(maxPrice.value))\n      \n      switch (sortBy.value) {\n        case 'price-asc': products.sort((a, b) => a.price - b.price); break\n        case 'price-desc': products.sort((a, b) => b.price - a.price); break\n        case 'name-asc': products.sort((a, b) => a.title.localeCompare(b.title)); break\n        case 'rating-desc': products.sort((a, b) => (b.rating?.rate || 0) - (a.rating?.rate || 0)); break\n      }\n      return products\n    })\n    \n    const totalPages = computed(() => Math.ceil(filteredProducts.value.length / itemsPerPage))\n    const paginatedProducts = computed(() => {\n      const start = (currentPage.value - 1) * itemsPerPage\n      return filteredProducts.value.slice(start, start + itemsPerPage)\n    })\n    \n    const clearFilters = () => {\n      selectedCategory.value = null\n      sortBy.value = 'default'\n      minPrice.value = ''\n      maxPrice.value = ''\n      currentPage.value = 1\n    }\n    \n    watch([selectedCategory, sortBy, minPrice, maxPrice], () => { currentPage.value = 1 })\n    \n    onMounted(async () => {\n      await Promise.all([productsStore.loadProducts(), productsStore.loadCategories()])\n    })\n    \n    return { selectedCategory, sortBy, minPrice, maxPrice, currentPage, sortOptions, categoryOptions, loading, filteredProducts, paginatedProducts, totalPages, clearFilters }\n  }\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}