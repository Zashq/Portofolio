{"ast":null,"code":"import { ref, computed, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useProductsStore } from '@/store/products';\nimport { useCartStore } from '@/store/cart';\nimport { useToast } from 'vue-toastification';\nimport ProductCard from '@/components/ProductCard.vue';\nexport default {\n  name: 'ProductDetailView',\n  components: {\n    ProductCard\n  },\n  setup() {\n    const route = useRoute();\n    const productsStore = useProductsStore();\n    const cartStore = useCartStore();\n    const toast = useToast();\n    const product = ref(null);\n    const loading = ref(true);\n    const quantity = ref(1);\n    const breadcrumbs = computed(() => [{\n      title: 'Home',\n      disabled: false,\n      to: '/'\n    }, {\n      title: 'Products',\n      disabled: false,\n      to: '/products'\n    }, {\n      title: product.value?.title || '',\n      disabled: true\n    }]);\n    const relatedProducts = computed(() => {\n      if (!product.value) return [];\n      return productsStore.products.filter(p => p.category === product.value.category && p.id !== product.value.id).slice(0, 4);\n    });\n    const addToCart = async () => {\n      if (!product.value) return;\n      for (let i = 0; i < quantity.value; i++) {\n        await cartStore.addItem(product.value);\n      }\n      toast.success(`${quantity.value} x ${product.value.title} added to cart`);\n      quantity.value = 1;\n    };\n    onMounted(async () => {\n      try {\n        product.value = await productsStore.getProductById(route.params.id);\n      } finally {\n        loading.value = false;\n      }\n    });\n    return {\n      product,\n      loading,\n      quantity,\n      breadcrumbs,\n      relatedProducts,\n      addToCart\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","useRoute","useProductsStore","useCartStore","useToast","ProductCard","name","components","setup","route","productsStore","cartStore","toast","product","loading","quantity","breadcrumbs","title","disabled","to","value","relatedProducts","products","filter","p","category","id","slice","addToCart","i","addItem","success","getProductById","params"],"sources":["C:\\Users\\veszi\\Desktop\\Portofolio\\vue-pwa-webshop\\src\\views\\ProductDetail.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row v-if=\"loading\" class=\"my-12\">\n      <v-col cols=\"12\" class=\"text-center\">\n        <v-progress-circular indeterminate color=\"primary\" size=\"64\"></v-progress-circular>\n      </v-col>\n    </v-row>\n\n    <div v-else-if=\"product\">\n      <v-row class=\"mb-4\">\n        <v-col cols=\"12\">\n          <v-breadcrumbs :items=\"breadcrumbs\" divider=\">\"></v-breadcrumbs>\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col cols=\"12\" md=\"6\">\n          <v-card flat>\n            <v-img :src=\"product.image\" :alt=\"product.title\" max-height=\"500\" contain></v-img>\n          </v-card>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"6\">\n          <v-chip color=\"primary\" variant=\"outlined\" class=\"mb-2\">{{ product.category }}</v-chip>\n          <h1 class=\"text-h4 font-weight-bold mb-4\">{{ product.title }}</h1>\n          <div class=\"d-flex align-center mb-4\">\n            <v-rating :model-value=\"product.rating?.rate || 0\" color=\"amber\" density=\"compact\" half-increments readonly size=\"large\"></v-rating>\n            <span class=\"text-h6 ml-2\">{{ product.rating?.rate || 0 }} ({{ product.rating?.count || 0 }} reviews)</span>\n          </div>\n          <div class=\"mb-6\">\n            <span class=\"text-h3 font-weight-bold primary--text\">${{ product.price.toFixed(2) }}</span>\n          </div>\n          \n          <v-row class=\"mb-4\">\n            <v-col cols=\"12\" sm=\"6\">\n              <v-text-field v-model.number=\"quantity\" label=\"Quantity\" type=\"number\" min=\"1\" outlined dense></v-text-field>\n            </v-col>\n          </v-row>\n\n          <v-row class=\"mb-6\">\n            <v-col cols=\"12\" sm=\"6\">\n              <v-btn color=\"primary\" size=\"large\" block @click=\"addToCart\"><v-icon left>mdi-cart-plus</v-icon>Add to Cart</v-btn>\n            </v-col>\n          </v-row>\n\n          <p class=\"text-body-1\">{{ product.description }}</p>\n        </v-col>\n      </v-row>\n\n      <v-row class=\"mt-8\">\n        <v-col cols=\"12\">\n          <h2 class=\"text-h4 mb-4\">You May Also Like</h2>\n        </v-col>\n        <v-col v-for=\"relatedProduct in relatedProducts\" :key=\"relatedProduct.id\" cols=\"12\" sm=\"6\" md=\"3\">\n          <ProductCard :product=\"relatedProduct\" />\n        </v-col>\n      </v-row>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useProductsStore } from '@/store/products'\nimport { useCartStore } from '@/store/cart'\nimport { useToast } from 'vue-toastification'\nimport ProductCard from '@/components/ProductCard.vue'\n\nexport default {\n  name: 'ProductDetailView',\n  components: { ProductCard },\n  setup() {\n    const route = useRoute()\n    const productsStore = useProductsStore()\n    const cartStore = useCartStore()\n    const toast = useToast()\n    const product = ref(null)\n    const loading = ref(true)\n    const quantity = ref(1)\n    \n    const breadcrumbs = computed(() => [\n      { title: 'Home', disabled: false, to: '/' },\n      { title: 'Products', disabled: false, to: '/products' },\n      { title: product.value?.title || '', disabled: true }\n    ])\n    \n    const relatedProducts = computed(() => {\n      if (!product.value) return []\n      return productsStore.products.filter(p => p.category === product.value.category && p.id !== product.value.id).slice(0, 4)\n    })\n    \n    const addToCart = async () => {\n      if (!product.value) return\n      for (let i = 0; i < quantity.value; i++) {\n        await cartStore.addItem(product.value)\n      }\n      toast.success(`${quantity.value} x ${product.value.title} added to cart`)\n      quantity.value = 1\n    }\n    \n    onMounted(async () => {\n      try {\n        product.value = await productsStore.getProductById(route.params.id)\n      } finally {\n        loading.value = false\n      }\n    })\n    \n    return { product, loading, quantity, breadcrumbs, relatedProducts, addToCart }\n  }\n}\n</script>\n"],"mappings":"AA8DA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AAC7C,SAASC,QAAO,QAAS,YAAW;AACpC,SAASC,gBAAe,QAAS,kBAAiB;AAClD,SAASC,YAAW,QAAS,cAAa;AAC1C,SAASC,QAAO,QAAS,oBAAmB;AAC5C,OAAOC,WAAU,MAAO,8BAA6B;AAErD,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,UAAU,EAAE;IAAEF;EAAY,CAAC;EAC3BG,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIR,QAAQ,CAAC;IACvB,MAAMS,aAAY,GAAIR,gBAAgB,CAAC;IACvC,MAAMS,SAAQ,GAAIR,YAAY,CAAC;IAC/B,MAAMS,KAAI,GAAIR,QAAQ,CAAC;IACvB,MAAMS,OAAM,GAAIf,GAAG,CAAC,IAAI;IACxB,MAAMgB,OAAM,GAAIhB,GAAG,CAAC,IAAI;IACxB,MAAMiB,QAAO,GAAIjB,GAAG,CAAC,CAAC;IAEtB,MAAMkB,WAAU,GAAIjB,QAAQ,CAAC,MAAM,CACjC;MAAEkB,KAAK,EAAE,MAAM;MAAEC,QAAQ,EAAE,KAAK;MAAEC,EAAE,EAAE;IAAI,CAAC,EAC3C;MAAEF,KAAK,EAAE,UAAU;MAAEC,QAAQ,EAAE,KAAK;MAAEC,EAAE,EAAE;IAAY,CAAC,EACvD;MAAEF,KAAK,EAAEJ,OAAO,CAACO,KAAK,EAAEH,KAAI,IAAK,EAAE;MAAEC,QAAQ,EAAE;IAAK,EACrD;IAED,MAAMG,eAAc,GAAItB,QAAQ,CAAC,MAAM;MACrC,IAAI,CAACc,OAAO,CAACO,KAAK,EAAE,OAAO,EAAC;MAC5B,OAAOV,aAAa,CAACY,QAAQ,CAACC,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACC,QAAO,KAAMZ,OAAO,CAACO,KAAK,CAACK,QAAO,IAAKD,CAAC,CAACE,EAAC,KAAMb,OAAO,CAACO,KAAK,CAACM,EAAE,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC;IAC1H,CAAC;IAED,MAAMC,SAAQ,GAAI,MAAAA,CAAA,KAAY;MAC5B,IAAI,CAACf,OAAO,CAACO,KAAK,EAAE;MACpB,KAAK,IAAIS,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAId,QAAQ,CAACK,KAAK,EAAES,CAAC,EAAE,EAAE;QACvC,MAAMlB,SAAS,CAACmB,OAAO,CAACjB,OAAO,CAACO,KAAK;MACvC;MACAR,KAAK,CAACmB,OAAO,CAAC,GAAGhB,QAAQ,CAACK,KAAK,MAAMP,OAAO,CAACO,KAAK,CAACH,KAAK,gBAAgB;MACxEF,QAAQ,CAACK,KAAI,GAAI;IACnB;IAEApB,SAAS,CAAC,YAAY;MACpB,IAAI;QACFa,OAAO,CAACO,KAAI,GAAI,MAAMV,aAAa,CAACsB,cAAc,CAACvB,KAAK,CAACwB,MAAM,CAACP,EAAE;MACpE,UAAU;QACRZ,OAAO,CAACM,KAAI,GAAI,KAAI;MACtB;IACF,CAAC;IAED,OAAO;MAAEP,OAAO;MAAEC,OAAO;MAAEC,QAAQ;MAAEC,WAAW;MAAEK,eAAe;MAAEO;IAAU;EAC/E;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}