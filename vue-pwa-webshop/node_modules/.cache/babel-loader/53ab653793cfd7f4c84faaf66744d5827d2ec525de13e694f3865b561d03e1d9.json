{"ast":null,"code":"import { ref, computed, onMounted, watch } from 'vue';\nimport { useProductsStore } from '@/store/products';\nimport ProductCard from '@/components/ProductCard.vue';\nexport default {\n  name: 'ProductsView',\n  components: {\n    ProductCard\n  },\n  setup() {\n    const productsStore = useProductsStore();\n    const selectedCategory = ref(null);\n    const sortBy = ref('default');\n    const minPrice = ref('');\n    const maxPrice = ref('');\n    const currentPage = ref(1);\n    const itemsPerPage = 12;\n    const sortOptions = [{\n      title: 'Default',\n      value: 'default'\n    }, {\n      title: 'Price: Low to High',\n      value: 'price-asc'\n    }, {\n      title: 'Price: High to Low',\n      value: 'price-desc'\n    }, {\n      title: 'Name: A to Z',\n      value: 'name-asc'\n    }, {\n      title: 'Name: Z to A',\n      value: 'name-desc'\n    }, {\n      title: 'Rating: High to Low',\n      value: 'rating-desc'\n    }];\n    const categoryOptions = computed(() => {\n      return [{\n        title: 'All Categories',\n        value: null\n      }, ...productsStore.categories.map(cat => ({\n        title: cat.charAt(0).toUpperCase() + cat.slice(1),\n        value: cat\n      }))];\n    });\n    const loading = computed(() => productsStore.loading);\n    const error = computed(() => productsStore.error);\n    const filteredProducts = computed(() => {\n      let products = [...productsStore.products];\n\n      // Category filter\n      if (selectedCategory.value) {\n        products = products.filter(p => p.category === selectedCategory.value);\n      }\n\n      // Price filter\n      if (minPrice.value !== '') {\n        products = products.filter(p => p.price >= parseFloat(minPrice.value));\n      }\n      if (maxPrice.value !== '') {\n        products = products.filter(p => p.price <= parseFloat(maxPrice.value));\n      }\n\n      // Sorting\n      switch (sortBy.value) {\n        case 'price-asc':\n          products.sort((a, b) => a.price - b.price);\n          break;\n        case 'price-desc':\n          products.sort((a, b) => b.price - a.price);\n          break;\n        case 'name-asc':\n          products.sort((a, b) => a.title.localeCompare(b.title));\n          break;\n        case 'name-desc':\n          products.sort((a, b) => b.title.localeCompare(a.title));\n          break;\n        case 'rating-desc':\n          products.sort((a, b) => (b.rating?.rate || 0) - (a.rating?.rate || 0));\n          break;\n      }\n      return products;\n    });\n    const totalPages = computed(() => Math.ceil(filteredProducts.value.length / itemsPerPage));\n    const startIndex = computed(() => (currentPage.value - 1) * itemsPerPage);\n    const endIndex = computed(() => Math.min(startIndex.value + itemsPerPage, filteredProducts.value.length));\n    const paginatedProducts = computed(() => filteredProducts.value.slice(startIndex.value, endIndex.value));\n    const clearFilters = () => {\n      selectedCategory.value = null;\n      sortBy.value = 'default';\n      minPrice.value = '';\n      maxPrice.value = '';\n      currentPage.value = 1;\n    };\n    const scrollToTop = () => {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    };\n    const loadProducts = async () => {\n      await Promise.all([productsStore.loadProducts(), productsStore.loadCategories()]);\n    };\n\n    // Reset to page 1 when filters change\n    watch([selectedCategory, sortBy, minPrice, maxPrice], () => {\n      currentPage.value = 1;\n    });\n    onMounted(() => {\n      loadProducts();\n    });\n    return {\n      selectedCategory,\n      sortBy,\n      minPrice,\n      maxPrice,\n      currentPage,\n      sortOptions,\n      categoryOptions,\n      loading,\n      error,\n      filteredProducts,\n      paginatedProducts,\n      totalPages,\n      startIndex,\n      endIndex,\n      clearFilters,\n      scrollToTop,\n      loadProducts\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","watch","useProductsStore","ProductCard","name","components","setup","productsStore","selectedCategory","sortBy","minPrice","maxPrice","currentPage","itemsPerPage","sortOptions","title","value","categoryOptions","categories","map","cat","charAt","toUpperCase","slice","loading","error","filteredProducts","products","filter","p","category","price","parseFloat","sort","a","b","localeCompare","rating","rate","totalPages","Math","ceil","length","startIndex","endIndex","min","paginatedProducts","clearFilters","scrollToTop","window","scrollTo","top","behavior","loadProducts","Promise","all","loadCategories"],"sources":["C:\\Users\\veszi\\Desktop\\Portofolio\\vue-pwa-webshop\\src\\views\\Products.vue"],"sourcesContent":["<template>\n  <v-container>\n    <!-- Page Header -->\n    <v-row class=\"mb-4\">\n      <v-col cols=\"12\">\n        <h1 class=\"text-h3 font-weight-bold\">All Products</h1>\n        <p class=\"text-subtitle-1 text-grey\">Browse our complete collection</p>\n      </v-col>\n    </v-row>\n\n    <!-- Filters and Sort -->\n    <v-row class=\"mb-4\">\n      <v-col cols=\"12\" md=\"3\">\n        <v-select\n          v-model=\"selectedCategory\"\n          :items=\"categoryOptions\"\n          label=\"Category\"\n          outlined\n          dense\n          clearable\n        ></v-select>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <v-select\n          v-model=\"sortBy\"\n          :items=\"sortOptions\"\n          label=\"Sort By\"\n          outlined\n          dense\n        ></v-select>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <v-text-field\n          v-model=\"minPrice\"\n          label=\"Min Price\"\n          type=\"number\"\n          outlined\n          dense\n          prefix=\"$\"\n        ></v-text-field>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <v-text-field\n          v-model=\"maxPrice\"\n          label=\"Max Price\"\n          type=\"number\"\n          outlined\n          dense\n          prefix=\"$\"\n        ></v-text-field>\n      </v-col>\n    </v-row>\n\n    <!-- Products Grid -->\n    <v-row v-if=\"loading\" class=\"my-8\">\n      <v-col cols=\"12\" class=\"text-center\">\n        <v-progress-circular\n          indeterminate\n          color=\"primary\"\n          size=\"64\"\n        ></v-progress-circular>\n        <p class=\"mt-4\">Loading products...</p>\n      </v-col>\n    </v-row>\n\n    <v-row v-else-if=\"error\">\n      <v-col cols=\"12\">\n        <v-alert type=\"error\" prominent>\n          <v-row align=\"center\">\n            <v-col class=\"grow\">\n              {{ error }}\n            </v-col>\n            <v-col class=\"shrink\">\n              <v-btn @click=\"loadProducts\">Retry</v-btn>\n            </v-col>\n          </v-row>\n        </v-alert>\n      </v-col>\n    </v-row>\n\n    <v-row v-else-if=\"filteredProducts.length === 0\">\n      <v-col cols=\"12\" class=\"text-center my-8\">\n        <v-icon size=\"64\" color=\"grey\">mdi-package-variant</v-icon>\n        <h2 class=\"text-h5 mt-4\">No products found</h2>\n        <p class=\"text-grey\">Try adjusting your filters</p>\n        <v-btn color=\"primary\" class=\"mt-4\" @click=\"clearFilters\">\n          Clear Filters\n        </v-btn>\n      </v-col>\n    </v-row>\n\n    <v-row v-else>\n      <v-col\n        v-for=\"product in paginatedProducts\"\n        :key=\"product.id\"\n        cols=\"12\"\n        sm=\"6\"\n        md=\"4\"\n        lg=\"3\"\n      >\n        <ProductCard :product=\"product\" />\n      </v-col>\n    </v-row>\n\n    <!-- Pagination -->\n    <v-row v-if=\"totalPages > 1\" class=\"mt-4\">\n      <v-col cols=\"12\" class=\"d-flex justify-center\">\n        <v-pagination\n          v-model=\"currentPage\"\n          :length=\"totalPages\"\n          :total-visible=\"7\"\n          @update:model-value=\"scrollToTop\"\n        ></v-pagination>\n      </v-col>\n    </v-row>\n\n    <!-- Results Count -->\n    <v-row class=\"mt-2\">\n      <v-col cols=\"12\" class=\"text-center\">\n        <p class=\"text-caption text-grey\">\n          Showing {{ startIndex + 1 }}-{{ endIndex }} of {{ filteredProducts.length }} products\n        </p>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { useProductsStore } from '@/store/products'\nimport ProductCard from '@/components/ProductCard.vue'\n\nexport default {\n  name: 'ProductsView',\n  components: {\n    ProductCard\n  },\n  setup() {\n    const productsStore = useProductsStore()\n    \n    const selectedCategory = ref(null)\n    const sortBy = ref('default')\n    const minPrice = ref('')\n    const maxPrice = ref('')\n    const currentPage = ref(1)\n    const itemsPerPage = 12\n    \n    const sortOptions = [\n      { title: 'Default', value: 'default' },\n      { title: 'Price: Low to High', value: 'price-asc' },\n      { title: 'Price: High to Low', value: 'price-desc' },\n      { title: 'Name: A to Z', value: 'name-asc' },\n      { title: 'Name: Z to A', value: 'name-desc' },\n      { title: 'Rating: High to Low', value: 'rating-desc' }\n    ]\n    \n    const categoryOptions = computed(() => {\n      return [\n        { title: 'All Categories', value: null },\n        ...productsStore.categories.map(cat => ({\n          title: cat.charAt(0).toUpperCase() + cat.slice(1),\n          value: cat\n        }))\n      ]\n    })\n    \n    const loading = computed(() => productsStore.loading)\n    const error = computed(() => productsStore.error)\n    \n    const filteredProducts = computed(() => {\n      let products = [...productsStore.products]\n      \n      // Category filter\n      if (selectedCategory.value) {\n        products = products.filter(p => p.category === selectedCategory.value)\n      }\n      \n      // Price filter\n      if (minPrice.value !== '') {\n        products = products.filter(p => p.price >= parseFloat(minPrice.value))\n      }\n      if (maxPrice.value !== '') {\n        products = products.filter(p => p.price <= parseFloat(maxPrice.value))\n      }\n      \n      // Sorting\n      switch (sortBy.value) {\n        case 'price-asc':\n          products.sort((a, b) => a.price - b.price)\n          break\n        case 'price-desc':\n          products.sort((a, b) => b.price - a.price)\n          break\n        case 'name-asc':\n          products.sort((a, b) => a.title.localeCompare(b.title))\n          break\n        case 'name-desc':\n          products.sort((a, b) => b.title.localeCompare(a.title))\n          break\n        case 'rating-desc':\n          products.sort((a, b) => (b.rating?.rate || 0) - (a.rating?.rate || 0))\n          break\n      }\n      \n      return products\n    })\n    \n    const totalPages = computed(() => \n      Math.ceil(filteredProducts.value.length / itemsPerPage)\n    )\n    \n    const startIndex = computed(() => \n      (currentPage.value - 1) * itemsPerPage\n    )\n    \n    const endIndex = computed(() => \n      Math.min(startIndex.value + itemsPerPage, filteredProducts.value.length)\n    )\n    \n    const paginatedProducts = computed(() => \n      filteredProducts.value.slice(startIndex.value, endIndex.value)\n    )\n    \n    const clearFilters = () => {\n      selectedCategory.value = null\n      sortBy.value = 'default'\n      minPrice.value = ''\n      maxPrice.value = ''\n      currentPage.value = 1\n    }\n    \n    const scrollToTop = () => {\n      window.scrollTo({ top: 0, behavior: 'smooth' })\n    }\n    \n    const loadProducts = async () => {\n      await Promise.all([\n        productsStore.loadProducts(),\n        productsStore.loadCategories()\n      ])\n    }\n    \n    // Reset to page 1 when filters change\n    watch([selectedCategory, sortBy, minPrice, maxPrice], () => {\n      currentPage.value = 1\n    })\n    \n    onMounted(() => {\n      loadProducts()\n    })\n    \n    return {\n      selectedCategory,\n      sortBy,\n      minPrice,\n      maxPrice,\n      currentPage,\n      sortOptions,\n      categoryOptions,\n      loading,\n      error,\n      filteredProducts,\n      paginatedProducts,\n      totalPages,\n      startIndex,\n      endIndex,\n      clearFilters,\n      scrollToTop,\n      loadProducts\n    }\n  }\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}