{"ast":null,"code":"import { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useCartStore } from '@/store/cart';\nimport { useToast } from 'vue-toastification';\nexport default {\n  name: 'CheckoutView',\n  setup() {\n    const router = useRouter();\n    const cartStore = useCartStore();\n    const toast = useToast();\n    const step = ref(1);\n    const shippingFormValid = ref(false);\n    const processing = ref(false);\n    const agreedToTerms = ref(false);\n    const shippingInfo = ref({\n      firstName: '',\n      lastName: '',\n      email: '',\n      address: '',\n      city: '',\n      zipCode: ''\n    });\n    const rules = {\n      required: value => !!value || 'Required',\n      email: value => /.+@.+\\..+/.test(value) || 'Invalid email'\n    };\n    const placeOrder = async () => {\n      processing.value = true;\n      try {\n        await new Promise(resolve => setTimeout(resolve, 2000));\n        await cartStore.clearCart();\n        toast.success('Order placed successfully!');\n        router.push('/orders');\n      } catch (error) {\n        toast.error('Failed to process order');\n      } finally {\n        processing.value = false;\n      }\n    };\n    return {\n      step,\n      shippingFormValid,\n      processing,\n      agreedToTerms,\n      shippingInfo,\n      rules,\n      placeOrder\n    };\n  }\n};","map":{"version":3,"names":["ref","useRouter","useCartStore","useToast","name","setup","router","cartStore","toast","step","shippingFormValid","processing","agreedToTerms","shippingInfo","firstName","lastName","email","address","city","zipCode","rules","required","value","test","placeOrder","Promise","resolve","setTimeout","clearCart","success","push","error"],"sources":["C:\\Users\\veszi\\Desktop\\Portofolio\\vue-pwa-webshop\\src\\views\\Checkout.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"mb-4\">\n      <v-col cols=\"12\"><h1 class=\"text-h3 font-weight-bold\">Checkout</h1></v-col>\n    </v-row>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-stepper v-model=\"step\" alt-labels>\n          <v-stepper-header>\n            <v-stepper-item :complete=\"step > 1\" :value=\"1\" title=\"Shipping\" icon=\"mdi-truck-delivery\"></v-stepper-item>\n            <v-divider></v-divider>\n            <v-stepper-item :complete=\"step > 2\" :value=\"2\" title=\"Payment\" icon=\"mdi-credit-card\"></v-stepper-item>\n            <v-divider></v-divider>\n            <v-stepper-item :complete=\"step > 3\" :value=\"3\" title=\"Review\" icon=\"mdi-check-circle\"></v-stepper-item>\n          </v-stepper-header>\n          <v-stepper-window>\n            <v-stepper-window-item :value=\"1\">\n              <v-card flat>\n                <v-card-text>\n                  <h2 class=\"text-h5 mb-4\">Shipping Information</h2>\n                  <v-form ref=\"shippingForm\" v-model=\"shippingFormValid\">\n                    <v-row>\n                      <v-col cols=\"12\" md=\"6\"><v-text-field v-model=\"shippingInfo.firstName\" label=\"First Name\" :rules=\"[rules.required]\" outlined required></v-text-field></v-col>\n                      <v-col cols=\"12\" md=\"6\"><v-text-field v-model=\"shippingInfo.lastName\" label=\"Last Name\" :rules=\"[rules.required]\" outlined required></v-text-field></v-col>\n                      <v-col cols=\"12\"><v-text-field v-model=\"shippingInfo.email\" label=\"Email\" :rules=\"[rules.required, rules.email]\" outlined required></v-text-field></v-col>\n                      <v-col cols=\"12\"><v-text-field v-model=\"shippingInfo.address\" label=\"Address\" :rules=\"[rules.required]\" outlined required></v-text-field></v-col>\n                      <v-col cols=\"12\" md=\"6\"><v-text-field v-model=\"shippingInfo.city\" label=\"City\" :rules=\"[rules.required]\" outlined required></v-text-field></v-col>\n                      <v-col cols=\"12\" md=\"6\"><v-text-field v-model=\"shippingInfo.zipCode\" label=\"ZIP Code\" :rules=\"[rules.required]\" outlined required></v-text-field></v-col>\n                    </v-row>\n                  </v-form>\n                </v-card-text>\n                <v-card-actions>\n                  <v-btn to=\"/cart\" variant=\"text\"><v-icon left>mdi-arrow-left</v-icon>Back</v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"primary\" :disabled=\"!shippingFormValid\" @click=\"step = 2\">Continue<v-icon right>mdi-arrow-right</v-icon></v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-stepper-window-item>\n            <v-stepper-window-item :value=\"2\">\n              <v-card flat>\n                <v-card-text>\n                  <h2 class=\"text-h5 mb-4\">Payment Information</h2>\n                  <p class=\"text-grey\">Payment processing will be implemented</p>\n                </v-card-text>\n                <v-card-actions>\n                  <v-btn variant=\"text\" @click=\"step = 1\"><v-icon left>mdi-arrow-left</v-icon>Back</v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"primary\" @click=\"step = 3\">Continue<v-icon right>mdi-arrow-right</v-icon></v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-stepper-window-item>\n            <v-stepper-window-item :value=\"3\">\n              <v-card flat>\n                <v-card-text>\n                  <h2 class=\"text-h5 mb-4\">Review Your Order</h2>\n                  <v-checkbox v-model=\"agreedToTerms\" :rules=\"[rules.required]\"><template v-slot:label><span>I agree to the Terms & Conditions</span></template></v-checkbox>\n                </v-card-text>\n                <v-card-actions>\n                  <v-btn variant=\"text\" @click=\"step = 2\"><v-icon left>mdi-arrow-left</v-icon>Back</v-btn>\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"success\" :loading=\"processing\" :disabled=\"!agreedToTerms\" @click=\"placeOrder\"><v-icon left>mdi-check</v-icon>Place Order</v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-stepper-window-item>\n          </v-stepper-window>\n        </v-stepper>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useCartStore } from '@/store/cart'\nimport { useToast } from 'vue-toastification'\n\nexport default {\n  name: 'CheckoutView',\n  setup() {\n    const router = useRouter()\n    const cartStore = useCartStore()\n    const toast = useToast()\n    const step = ref(1)\n    const shippingFormValid = ref(false)\n    const processing = ref(false)\n    const agreedToTerms = ref(false)\n    const shippingInfo = ref({ firstName: '', lastName: '', email: '', address: '', city: '', zipCode: '' })\n    const rules = {\n      required: value => !!value || 'Required',\n      email: value => /.+@.+\\..+/.test(value) || 'Invalid email'\n    }\n    \n    const placeOrder = async () => {\n      processing.value = true\n      try {\n        await new Promise(resolve => setTimeout(resolve, 2000))\n        await cartStore.clearCart()\n        toast.success('Order placed successfully!')\n        router.push('/orders')\n      } catch (error) {\n        toast.error('Failed to process order')\n      } finally {\n        processing.value = false\n      }\n    }\n    \n    return { step, shippingFormValid, processing, agreedToTerms, shippingInfo, rules, placeOrder }\n  }\n}\n</script>\n"],"mappings":"AAwEA,SAASA,GAAE,QAAS,KAAI;AACxB,SAASC,SAAQ,QAAS,YAAW;AACrC,SAASC,YAAW,QAAS,cAAa;AAC1C,SAASC,QAAO,QAAS,oBAAmB;AAE5C,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIL,SAAS,CAAC;IACzB,MAAMM,SAAQ,GAAIL,YAAY,CAAC;IAC/B,MAAMM,KAAI,GAAIL,QAAQ,CAAC;IACvB,MAAMM,IAAG,GAAIT,GAAG,CAAC,CAAC;IAClB,MAAMU,iBAAgB,GAAIV,GAAG,CAAC,KAAK;IACnC,MAAMW,UAAS,GAAIX,GAAG,CAAC,KAAK;IAC5B,MAAMY,aAAY,GAAIZ,GAAG,CAAC,KAAK;IAC/B,MAAMa,YAAW,GAAIb,GAAG,CAAC;MAAEc,SAAS,EAAE,EAAE;MAAEC,QAAQ,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,OAAO,EAAE,EAAE;MAAEC,IAAI,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAC;IACvG,MAAMC,KAAI,GAAI;MACZC,QAAQ,EAAEC,KAAI,IAAK,CAAC,CAACA,KAAI,IAAK,UAAU;MACxCN,KAAK,EAAEM,KAAI,IAAK,WAAW,CAACC,IAAI,CAACD,KAAK,KAAK;IAC7C;IAEA,MAAME,UAAS,GAAI,MAAAA,CAAA,KAAY;MAC7Bb,UAAU,CAACW,KAAI,GAAI,IAAG;MACtB,IAAI;QACF,MAAM,IAAIG,OAAO,CAACC,OAAM,IAAKC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC;QACtD,MAAMnB,SAAS,CAACqB,SAAS,CAAC;QAC1BpB,KAAK,CAACqB,OAAO,CAAC,4BAA4B;QAC1CvB,MAAM,CAACwB,IAAI,CAAC,SAAS;MACvB,EAAE,OAAOC,KAAK,EAAE;QACdvB,KAAK,CAACuB,KAAK,CAAC,yBAAyB;MACvC,UAAU;QACRpB,UAAU,CAACW,KAAI,GAAI,KAAI;MACzB;IACF;IAEA,OAAO;MAAEb,IAAI;MAAEC,iBAAiB;MAAEC,UAAU;MAAEC,aAAa;MAAEC,YAAY;MAAEO,KAAK;MAAEI;IAAW;EAC/F;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}