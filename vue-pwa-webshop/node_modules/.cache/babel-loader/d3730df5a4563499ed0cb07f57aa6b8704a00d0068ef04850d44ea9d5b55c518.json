{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex align-center mb-2\"\n};\nconst _hoisted_2 = {\n  class: \"text-caption ml-2\"\n};\nconst _hoisted_3 = {\n  class: \"price-section\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-decoration-line-through text-grey mr-2\"\n};\nconst _hoisted_5 = {\n  class: \"text-h6 font-weight-bold\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_chip = _resolveComponent(\"v-chip\");\n  const _component_v_img = _resolveComponent(\"v-img\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\");\n  const _component_v_rating = _resolveComponent(\"v-rating\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  return _openBlock(), _createBlock(_component_v_card, {\n    class: \"product-card h-100\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push(`/product/${$props.product.id}`))\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_img, {\n      src: $props.product.image,\n      alt: $props.product.title,\n      height: \"200\",\n      cover: \"\",\n      class: \"product-image\"\n    }, {\n      placeholder: _withCtx(() => [_createVNode(_component_v_row, {\n        class: \"fill-height ma-0\",\n        align: \"center\",\n        justify: \"center\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_progress_circular, {\n          indeterminate: \"\",\n          color: \"grey-lighten-5\"\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      default: _withCtx(() => [$setup.isOnSale ? (_openBlock(), _createBlock(_component_v_chip, {\n        key: 0,\n        color: \"error\",\n        class: \"ma-2 position-absolute\",\n        style: {\n          \"top\": \"0\",\n          \"right\": \"0\"\n        }\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" -\" + _toDisplayString($setup.salePercentage) + \"% \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"src\", \"alt\"]), _createVNode(_component_v_card_title, {\n      class: \"text-subtitle-1\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.truncatedTitle), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_card_subtitle, null, {\n      default: _withCtx(() => [_createVNode(_component_v_chip, {\n        size: \"x-small\",\n        color: \"primary\",\n        variant: \"outlined\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($props.product.category), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_card_text, null, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_v_rating, {\n        \"model-value\": $props.product.rating?.rate || 4,\n        color: \"amber\",\n        density: \"compact\",\n        \"half-increments\": \"\",\n        readonly: \"\",\n        size: \"small\"\n      }, null, 8 /* PROPS */, [\"model-value\"]), _createElementVNode(\"span\", _hoisted_2, \" (\" + _toDisplayString($props.product.rating?.count || 0) + \") \", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_3, [$setup.isOnSale ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \" $\" + _toDisplayString($setup.originalPrice), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", _hoisted_5, \" $\" + _toDisplayString($setup.currentPrice), 1 /* TEXT */)])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_card_actions, null, {\n      default: _withCtx(() => [_createVNode(_component_v_btn, {\n        color: \"primary\",\n        variant: \"outlined\",\n        block: \"\",\n        onClick: _withModifiers($setup.addToCart, [\"stop\"])\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          left: \"\"\n        }, {\n          default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\"mdi-cart-plus\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }), _cache[2] || (_cache[2] = _createTextVNode(\" Add to Cart \", -1 /* CACHED */))]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_v_card","onClick","_cache","$event","_ctx","$router","push","$props","product","id","_createVNode","_component_v_img","src","image","alt","title","height","cover","placeholder","_withCtx","_component_v_row","align","justify","_component_v_progress_circular","indeterminate","color","$setup","isOnSale","_component_v_chip","style","_toDisplayString","salePercentage","_component_v_card_title","truncatedTitle","_component_v_card_subtitle","size","variant","category","_component_v_card_text","_createElementVNode","_hoisted_1","_component_v_rating","rating","rate","density","readonly","_hoisted_2","count","_hoisted_3","_createElementBlock","_hoisted_4","originalPrice","_hoisted_5","currentPrice","_component_v_card_actions","_component_v_btn","block","_withModifiers","addToCart","_component_v_icon","left"],"sources":["C:\\Users\\veszi\\Desktop\\Portofolio\\vue-pwa-webshop\\src\\components\\ProductCard.vue"],"sourcesContent":["<template>\r\n  <v-card\r\n    class=\"product-card h-100\"\r\n    @click=\"$router.push(`/product/${product.id}`)\"\r\n  >\r\n    <v-img\r\n      :src=\"product.image\"\r\n      :alt=\"product.title\"\r\n      height=\"200\"\r\n      cover\r\n      class=\"product-image\"\r\n    >\r\n      <template v-slot:placeholder>\r\n        <v-row\r\n          class=\"fill-height ma-0\"\r\n          align=\"center\"\r\n          justify=\"center\"\r\n        >\r\n          <v-progress-circular\r\n            indeterminate\r\n            color=\"grey-lighten-5\"\r\n          ></v-progress-circular>\r\n        </v-row>\r\n      </template>\r\n      \r\n      <!-- Sale Badge -->\r\n      <v-chip\r\n        v-if=\"isOnSale\"\r\n        color=\"error\"\r\n        class=\"ma-2 position-absolute\"\r\n        style=\"top: 0; right: 0;\"\r\n      >\r\n        -{{ salePercentage }}%\r\n      </v-chip>\r\n    </v-img>\r\n\r\n    <v-card-title class=\"text-subtitle-1\">\r\n      {{ truncatedTitle }}\r\n    </v-card-title>\r\n\r\n    <v-card-subtitle>\r\n      <v-chip size=\"x-small\" color=\"primary\" variant=\"outlined\">\r\n        {{ product.category }}\r\n      </v-chip>\r\n    </v-card-subtitle>\r\n\r\n    <v-card-text>\r\n      <div class=\"d-flex align-center mb-2\">\r\n        <v-rating\r\n          :model-value=\"product.rating?.rate || 4\"\r\n          color=\"amber\"\r\n          density=\"compact\"\r\n          half-increments\r\n          readonly\r\n          size=\"small\"\r\n        ></v-rating>\r\n        <span class=\"text-caption ml-2\">\r\n          ({{ product.rating?.count || 0 }})\r\n        </span>\r\n      </div>\r\n      \r\n      <div class=\"price-section\">\r\n        <span v-if=\"isOnSale\" class=\"text-decoration-line-through text-grey mr-2\">\r\n          ${{ originalPrice }}\r\n        </span>\r\n        <span class=\"text-h6 font-weight-bold\">\r\n          ${{ currentPrice }}\r\n        </span>\r\n      </div>\r\n    </v-card-text>\r\n\r\n    <v-card-actions>\r\n      <v-btn\r\n        color=\"primary\"\r\n        variant=\"outlined\"\r\n        block\r\n        @click.stop=\"addToCart\"\r\n      >\r\n        <v-icon left>mdi-cart-plus</v-icon>\r\n        Add to Cart\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useCartStore } from '@/store/cart'\r\nimport { useToast } from 'vue-toastification'\r\n\r\nexport default {\r\n  name: 'ProductCard',\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  setup(props) {\r\n    const cartStore = useCartStore()\r\n    const toast = useToast()\r\n    \r\n    const truncatedTitle = computed(() => {\r\n      const maxLength = 50\r\n      if (props.product.title.length > maxLength) {\r\n        return props.product.title.substring(0, maxLength) + '...'\r\n      }\r\n      return props.product.title\r\n    })\r\n    \r\n    // Simulate sale logic\r\n    const isOnSale = computed(() => {\r\n      // Random sale for demo (in production, this would come from backend)\r\n      return props.product.id % 3 === 0\r\n    })\r\n    \r\n    const salePercentage = computed(() => {\r\n      if (!isOnSale.value) return 0\r\n      return Math.floor(Math.random() * 30) + 10 // 10-40% off\r\n    })\r\n    \r\n    const originalPrice = computed(() => {\r\n      return props.product.price.toFixed(2)\r\n    })\r\n    \r\n    const currentPrice = computed(() => {\r\n      if (isOnSale.value) {\r\n        const discounted = props.product.price * (1 - salePercentage.value / 100)\r\n        return discounted.toFixed(2)\r\n      }\r\n      return originalPrice.value\r\n    })\r\n    \r\n    const addToCart = async () => {\r\n      const result = await cartStore.addItem({\r\n        ...props.product,\r\n        price: parseFloat(currentPrice.value)\r\n      })\r\n      \r\n      if (result.success) {\r\n        toast.success(`${props.product.title} added to cart`)\r\n      } else {\r\n        toast.error('Failed to add item to cart')\r\n      }\r\n    }\r\n    \r\n    return {\r\n      truncatedTitle,\r\n      isOnSale,\r\n      salePercentage,\r\n      originalPrice,\r\n      currentPrice,\r\n      addToCart\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.product-card {\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.product-card:hover {\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 4px 20px rgba(0,0,0,0.1);\r\n}\r\n\r\n.product-image {\r\n  object-fit: contain;\r\n  padding: 10px;\r\n  background: white;\r\n}\r\n\r\n.price-section {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.position-absolute {\r\n  position: absolute !important;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}