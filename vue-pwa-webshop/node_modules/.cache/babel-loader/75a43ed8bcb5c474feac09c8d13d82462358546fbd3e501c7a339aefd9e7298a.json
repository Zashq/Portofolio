{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useUserStore } from '@/store/user';\nimport { useCartStore } from '@/store/cart';\nimport { useNotificationStore } from '@/store/notifications';\nimport { signOut } from 'firebase/auth';\nimport { auth } from '@/main';\nimport { useToast } from 'vue-toastification';\nexport default {\n  name: 'App',\n  setup() {\n    const router = useRouter();\n    const userStore = useUserStore();\n    const cartStore = useCartStore();\n    const notificationStore = useNotificationStore();\n    const toast = useToast();\n    const drawer = ref(false);\n    const showNotifications = ref(false);\n    const searchQuery = ref('');\n    const isAuthenticated = computed(() => userStore.isAuthenticated);\n    const cartItemsCount = computed(() => cartStore.itemsCount);\n    const notifications = computed(() => notificationStore.notifications);\n    const unreadNotifications = computed(() => notificationStore.unreadCount);\n    const searchProducts = () => {\n      if (searchQuery.value) {\n        router.push(`/search?q=${searchQuery.value}`);\n      }\n    };\n    const logout = async () => {\n      try {\n        await signOut(auth);\n        userStore.logout();\n        toast.success('Successfully logged out');\n        router.push('/login');\n      } catch (error) {\n        toast.error('Error logging out');\n        console.error(error);\n      }\n    };\n    const markAsRead = id => {\n      notificationStore.markAsRead(id);\n    };\n    const markAllAsRead = () => {\n      notificationStore.markAllAsRead();\n    };\n    const getNotificationIcon = type => {\n      const icons = {\n        price_drop: 'mdi-trending-down',\n        order: 'mdi-package-variant',\n        alert: 'mdi-alert',\n        info: 'mdi-information'\n      };\n      return icons[type] || 'mdi-bell';\n    };\n    const getNotificationColor = type => {\n      const colors = {\n        price_drop: 'success',\n        order: 'primary',\n        alert: 'warning',\n        info: 'info'\n      };\n      return colors[type] || 'grey';\n    };\n    const formatDate = timestamp => {\n      return new Date(timestamp).toLocaleString();\n    };\n    onMounted(() => {\n      // Load initial data\n      userStore.checkAuth();\n      cartStore.loadCart();\n      notificationStore.loadNotifications();\n    });\n    return {\n      drawer,\n      showNotifications,\n      searchQuery,\n      isAuthenticated,\n      cartItemsCount,\n      notifications,\n      unreadNotifications,\n      searchProducts,\n      logout,\n      markAsRead,\n      markAllAsRead,\n      getNotificationIcon,\n      getNotificationColor,\n      formatDate\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","useRouter","useUserStore","useCartStore","useNotificationStore","signOut","auth","useToast","name","setup","router","userStore","cartStore","notificationStore","toast","drawer","showNotifications","searchQuery","isAuthenticated","cartItemsCount","itemsCount","notifications","unreadNotifications","unreadCount","searchProducts","value","push","logout","success","error","console","markAsRead","id","markAllAsRead","getNotificationIcon","type","icons","price_drop","order","alert","info","getNotificationColor","colors","formatDate","timestamp","Date","toLocaleString","checkAuth","loadCart","loadNotifications"],"sources":["C:\\Users\\veszi\\Desktop\\Portofolio\\vue-pwa-webshop\\src\\App.vue"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <!-- Navigation Bar -->\r\n    <v-app-bar app color=\"primary\" dark>\r\n      <v-app-bar-nav-icon @click=\"drawer = !drawer\"></v-app-bar-nav-icon>\r\n      \r\n      <v-toolbar-title class=\"cursor-pointer\" @click=\"$router.push('/')\">\r\n        <v-icon left>mdi-shopping</v-icon>\r\n        VueShop\r\n      </v-toolbar-title>\r\n\r\n      <v-spacer></v-spacer>\r\n\r\n      <!-- Search Bar -->\r\n      <v-text-field\r\n        v-model=\"searchQuery\"\r\n        append-icon=\"mdi-magnify\"\r\n        label=\"Search products...\"\r\n        single-line\r\n        hide-details\r\n        class=\"mr-4\"\r\n        style=\"max-width: 300px\"\r\n        @keyup.enter=\"searchProducts\"\r\n      ></v-text-field>\r\n\r\n      <!-- Cart Icon -->\r\n      <v-btn icon @click=\"$router.push('/cart')\">\r\n        <v-badge :content=\"cartItemsCount\" :value=\"cartItemsCount > 0\" color=\"red\">\r\n          <v-icon>mdi-cart</v-icon>\r\n        </v-badge>\r\n      </v-btn>\r\n\r\n      <!-- Notifications -->\r\n      <v-btn icon @click=\"showNotifications = !showNotifications\">\r\n        <v-badge :content=\"unreadNotifications\" :value=\"unreadNotifications > 0\" color=\"red\">\r\n          <v-icon>mdi-bell</v-icon>\r\n        </v-badge>\r\n      </v-btn>\r\n\r\n      <!-- User Menu -->\r\n      <v-menu offset-y>\r\n        <template v-slot:activator=\"{ props }\">\r\n          <v-btn icon v-bind=\"props\">\r\n            <v-icon>mdi-account</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <v-list>\r\n          <v-list-item v-if=\"!isAuthenticated\" @click=\"$router.push('/login')\">\r\n            <v-list-item-title>Login</v-list-item-title>\r\n          </v-list-item>\r\n          <v-list-item v-if=\"isAuthenticated\" @click=\"$router.push('/profile')\">\r\n            <v-list-item-title>Profile</v-list-item-title>\r\n          </v-list-item>\r\n          <v-list-item v-if=\"isAuthenticated\" @click=\"$router.push('/orders')\">\r\n            <v-list-item-title>My Orders</v-list-item-title>\r\n          </v-list-item>\r\n          <v-list-item v-if=\"isAuthenticated\" @click=\"logout\">\r\n            <v-list-item-title>Logout</v-list-item-title>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-menu>\r\n    </v-app-bar>\r\n\r\n    <!-- Navigation Drawer -->\r\n    <v-navigation-drawer v-model=\"drawer\" app temporary>\r\n      <v-list>\r\n        <v-list-item @click=\"$router.push('/')\">\r\n          <template v-slot:prepend>\r\n            <v-icon>mdi-home</v-icon>\r\n          </template>\r\n          <v-list-item-title>Home</v-list-item-title>\r\n        </v-list-item>\r\n        \r\n        <v-list-item @click=\"$router.push('/products')\">\r\n          <template v-slot:prepend>\r\n            <v-icon>mdi-shopping</v-icon>\r\n          </template>\r\n          <v-list-item-title>Products</v-list-item-title>\r\n        </v-list-item>\r\n        \r\n        <v-list-item @click=\"$router.push('/categories')\">\r\n          <template v-slot:prepend>\r\n            <v-icon>mdi-shape</v-icon>\r\n          </template>\r\n          <v-list-item-title>Categories</v-list-item-title>\r\n        </v-list-item>\r\n\r\n        <v-list-item @click=\"$router.push('/analytics')\">\r\n          <template v-slot:prepend>\r\n            <v-icon>mdi-chart-line</v-icon>\r\n          </template>\r\n          <v-list-item-title>Analytics</v-list-item-title>\r\n        </v-list-item>\r\n\r\n        <v-list-item @click=\"$router.push('/alerts')\">\r\n          <template v-slot:prepend>\r\n            <v-icon>mdi-alert</v-icon>\r\n          </template>\r\n          <v-list-item-title>Price Alerts</v-list-item-title>\r\n        </v-list-item>\r\n      </v-list>\r\n      \r\n      <template v-slot:append>\r\n        <div class=\"pa-2\">\r\n          <v-btn block color=\"primary\" @click=\"$router.push('/settings')\">\r\n            <v-icon left>mdi-cog</v-icon>\r\n            Settings\r\n          </v-btn>\r\n        </div>\r\n      </template>\r\n    </v-navigation-drawer>\r\n\r\n    <!-- Notifications Panel -->\r\n    <v-navigation-drawer\r\n      v-model=\"showNotifications\"\r\n      app\r\n      temporary\r\n      right\r\n      width=\"400\"\r\n    >\r\n      <v-toolbar color=\"primary\" dark>\r\n        <v-toolbar-title>Notifications</v-toolbar-title>\r\n        <v-spacer></v-spacer>\r\n        <v-btn icon @click=\"markAllAsRead\">\r\n          <v-icon>mdi-check-all</v-icon>\r\n        </v-btn>\r\n      </v-toolbar>\r\n      \r\n      <v-list>\r\n        <v-list-item\r\n          v-for=\"notification in notifications\"\r\n          :key=\"notification.id\"\r\n          @click=\"markAsRead(notification.id)\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <v-icon :color=\"getNotificationColor(notification.type)\">\r\n              {{ getNotificationIcon(notification.type) }}\r\n            </v-icon>\r\n          </template>\r\n          <v-list-item-title>{{ notification.title }}</v-list-item-title>\r\n          <v-list-item-subtitle>{{ notification.message }}</v-list-item-subtitle>\r\n          <v-list-item-subtitle class=\"text-caption\">\r\n            {{ formatDate(notification.timestamp) }}\r\n          </v-list-item-subtitle>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n\r\n    <!-- Main Content -->\r\n    <v-main>\r\n      <v-container fluid>\r\n        <router-view />\r\n      </v-container>\r\n    </v-main>\r\n\r\n    <!-- Footer -->\r\n    <v-footer app color=\"primary\" dark>\r\n      <v-row justify=\"center\" no-gutters>\r\n        <v-col class=\"text-center\" cols=\"12\">\r\n          {{ new Date().getFullYear() }} â€” <strong>VueShop PWA</strong>\r\n        </v-col>\r\n      </v-row>\r\n    </v-footer>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useUserStore } from '@/store/user'\r\nimport { useCartStore } from '@/store/cart'\r\nimport { useNotificationStore } from '@/store/notifications'\r\nimport { signOut } from 'firebase/auth'\r\nimport { auth } from '@/main'\r\nimport { useToast } from 'vue-toastification'\r\n\r\nexport default {\r\n  name: 'App',\r\n  setup() {\r\n    const router = useRouter()\r\n    const userStore = useUserStore()\r\n    const cartStore = useCartStore()\r\n    const notificationStore = useNotificationStore()\r\n    const toast = useToast()\r\n    \r\n    const drawer = ref(false)\r\n    const showNotifications = ref(false)\r\n    const searchQuery = ref('')\r\n    \r\n    const isAuthenticated = computed(() => userStore.isAuthenticated)\r\n    const cartItemsCount = computed(() => cartStore.itemsCount)\r\n    const notifications = computed(() => notificationStore.notifications)\r\n    const unreadNotifications = computed(() => notificationStore.unreadCount)\r\n    \r\n    const searchProducts = () => {\r\n      if (searchQuery.value) {\r\n        router.push(`/search?q=${searchQuery.value}`)\r\n      }\r\n    }\r\n    \r\n    const logout = async () => {\r\n      try {\r\n        await signOut(auth)\r\n        userStore.logout()\r\n        toast.success('Successfully logged out')\r\n        router.push('/login')\r\n      } catch (error) {\r\n        toast.error('Error logging out')\r\n        console.error(error)\r\n      }\r\n    }\r\n    \r\n    const markAsRead = (id) => {\r\n      notificationStore.markAsRead(id)\r\n    }\r\n    \r\n    const markAllAsRead = () => {\r\n      notificationStore.markAllAsRead()\r\n    }\r\n    \r\n    const getNotificationIcon = (type) => {\r\n      const icons = {\r\n        price_drop: 'mdi-trending-down',\r\n        order: 'mdi-package-variant',\r\n        alert: 'mdi-alert',\r\n        info: 'mdi-information'\r\n      }\r\n      return icons[type] || 'mdi-bell'\r\n    }\r\n    \r\n    const getNotificationColor = (type) => {\r\n      const colors = {\r\n        price_drop: 'success',\r\n        order: 'primary',\r\n        alert: 'warning',\r\n        info: 'info'\r\n      }\r\n      return colors[type] || 'grey'\r\n    }\r\n    \r\n    const formatDate = (timestamp) => {\r\n      return new Date(timestamp).toLocaleString()\r\n    }\r\n    \r\n    onMounted(() => {\r\n      // Load initial data\r\n      userStore.checkAuth()\r\n      cartStore.loadCart()\r\n      notificationStore.loadNotifications()\r\n    })\r\n    \r\n    return {\r\n      drawer,\r\n      showNotifications,\r\n      searchQuery,\r\n      isAuthenticated,\r\n      cartItemsCount,\r\n      notifications,\r\n      unreadNotifications,\r\n      searchProducts,\r\n      logout,\r\n      markAsRead,\r\n      markAllAsRead,\r\n      getNotificationIcon,\r\n      getNotificationColor,\r\n      formatDate\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.cursor-pointer {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}